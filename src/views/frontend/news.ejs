<%- contentFor('body') %>

    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold mb-6">
            <%= title %>
        </h1>

        <!-- Simple Search Form -->
        <div class="mb-8 bg-white p-4 rounded-lg shadow">
            <form action="/<%= language %>/news" method="GET" class="flex flex-col md:flex-row gap-4">
                <div class="flex-grow">
                    <input type="text" name="search"
                        placeholder="<%= language === 'tw' ? '搜尋最新消息...' : 'Search news...' %>" value="<%= search %>"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <button type="submit"
                        class="w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <%= language==='tw' ? '搜尋' : 'Search' %>
                    </button>
                </div>
            </form>
        </div>

        <!-- Simple News List -->
        <div class="space-y-6">
            <% if (newsItems && newsItems.length> 0) { %>
                <% newsItems.forEach(function(item) { %>
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <div class="flex flex-col md:flex-row gap-4">
                            <% if (item.imageUrl) { %>
                                <div class="md:w-1/4">
                                    <img src="<%= item.imageUrl %>" alt="<%= item.title %>"
                                        class="w-full h-auto object-cover rounded">
                                </div>
                                <% } %>
                                    <div class="<%= item.imageUrl ? 'md:w-3/4' : 'w-full' %>">
                                        <h2 class="text-xl font-semibold mb-2">
                                            <%= item.title %>
                                        </h2>
                                        <div class="flex flex-wrap gap-2 mb-3">
                                            <span class="text-gray-500 text-sm">
                                                <%= new Date(item.publishedDate).toLocaleDateString(language==='tw'
                                                    ? 'zh-TW' : 'en-US' ) %>
                                            </span>
                                            <% if (item.category) { %>
                                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">
                                                    <%= item.category.name %>
                                                </span>
                                                <% } %>
                                        </div>
                                        <% if (item.url) { %>
                                            <a href="<%= item.url %>" target="_blank"
                                                class="text-blue-600 hover:underline">
                                                <%= language==='tw' ? '閱讀更多' : 'Read More' %> →
                                            </a>
                                            <% } %>
                                    </div>
                        </div>
                    </div>
                    <% }); %>
                        <% } else { %>
                            <div class="bg-gray-50 p-8 rounded-lg text-center">
                                <p class="text-gray-600 text-lg">
                                    <%= language==='tw' ? '目前沒有可用的最新消息項目。' : 'No news items available yet.' %>
                                </p>
                            </div>
                            <% } %>
        </div>

        <!-- Pagination -->
        <% if (totalPages> 1) { %>
            <div class="mt-8 flex justify-center">
                <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                    <% if (currentPage> 1) { %>
                        <a href="?page=<%= currentPage - 1 %><%= search ? '&search=' + search : '' %>"
                            class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                            <%= language==='tw' ? '上一頁' : 'Previous' %>
                        </a>
                        <% } %>

                            <% for(let i=1; i <=totalPages; i++) { %>
                                <a href="?page=<%= i %><%= search ? '&search=' + search : '' %>"
                                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium <%= currentPage === i ? 'text-blue-600 bg-blue-50' : 'text-gray-700 hover:bg-gray-50' %>">
                                    <%= i %>
                                </a>
                                <% } %>

                                    <% if (currentPage < totalPages) { %>
                                        <a href="?page=<%= currentPage + 1 %><%= search ? '&search=' + search : '' %>"
                                            class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                            <%= language==='tw' ? '下一頁' : 'Next' %>
                                        </a>
                                        <% } %>
                </nav>
            </div>
            <% } %>
    </div>