<%- contentFor('body') %>
    <section class="relative">
        <picture class="block w-full h-full">
            <source media="(min-width: 1024px)" srcset="../images/desktop/news_desktop.png">
            <source media="(min-width: 640px)" srcset="../images/tablet/news_tablet.png">
            <img class="w-full h-full object-cover" src="../images/mobile/news_mobile.png" alt="響應式圖片">
        </picture>
        <div class="absolute inset-0 flex flex-col justify-center px-6 sm:px-16 lg:px-32">
            <h1 class="h2 text-white"><%= title %></h1>
            <p class="text-white">/ <%= currentLanguage==='en' ? 'Home' : '首頁' %> - <%= title %> /</p>
        </div>
    </section>
    <!-- Navigation Tabs -->
    <nav class="flex my-4 px-6 sm:px-16 lg:px-32 overflow-auto">
        <a href="#" class="subtitle px-6 py-2 rounded-full mr-4 min-w-max custom-button-blue active">產業動態</a>
        <a href="#" class="subtitle px-6 py-2 rounded-full mr-4 min-w-max custom-button-blue">活動訊息</a>
    </nav>
    <!-- Divider -->
    <div class="w-screen relative" style="left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw;">
        <hr class="border-t-2 border-gray-200 mb-16">
    </div>

    <!-- Search Bar -->
    <div class="relative mx-6 mb-8 sm:mx-16 sm:mb-16 lg:mx-32">
        <form action="/<%= language %>/news" method="GET" class="flex flex-col md:flex-row gap-4">
            <label for="search" class=""><%= language === 'en' ? 'Search' : '搜尋' %></label>
            <input type="text" id="search" name="search" placeholder="<%= language === 'tw' ? '搜尋最新消息...' : 'Search news...' %>" value="<%= search %>"
                class="w-full px-4 py-2 border rounded-lg">
            <button class="absolute right-3 top-2" type="submit">
                <svg class="w-6 h-6 text-gray-400" fill="none" stroke="#38B9A1" viewBox="0 0 24 24" alt="<%= language === 'en' ? 'Search' : '搜尋' %>">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            </button>
        </form>
    </div>

    <!-- News Grid -->
    <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-2 gap-y-8 px-6 pb-8 sm:px-16 sm:pb-16 lg:px-32" id="information">
        <% if (newsItems && newsItems.length> 0) { %>
            <% newsItems.forEach(function(item) { %>
            <!-- News Card 1 -->
            <a href="<%= item.url %>" target="_blank" class="block">
                <div class="overflow-hidden">
                    <img src="<%= item.imageUrl %>" alt="<%= item.title %>" class="w-full h-48 object-cover rounded-2xl">
                    <div class="py-4">
                        <div class="flex justify-between items-center">
                            <span class="bg-custom-blue text-white text-xs px-2 py-1 rounded"><%= item.category.name %></span>
                            <p class="text-gray-500 text-sm">
                                <%= new Date(item.publishedDate).toLocaleDateString(language==='tw' ? 'zh-TW' : 'en-US' ) %>
                            </p>
                        </div>
                        <p class="mt-2 line-clamp-2"><%= item.title %></p>
                    </div>
                </div>
            </a>
            <% }) %>
        <% } %>
    </section>

    <!-- Pagination -->
    <% if (totalPages> 1) { %>
    <div class="mb-16 flex justify-center">
        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
            <% if (currentPage> 1) { %>
                <a href="?page=<%= currentPage - 1 %><%= search ? '&search=' + search : '' %>"
                    class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                    <%= language==='tw' ? '上一頁' : 'Previous' %>
                </a>
                <% } %>

                    <% for(let i=1; i <=totalPages; i++) { %>
                        <a href="?page=<%= i %><%= search ? '&search=' + search : '' %>"
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium <%= currentPage === i ? 'text-blue-600 bg-blue-50' : 'text-gray-700 hover:bg-gray-50' %>">
                            <%= i %>
                        </a>
                        <% } %>

                            <% if (currentPage < totalPages) { %>
                                <a href="?page=<%= currentPage + 1 %><%= search ? '&search=' + search : '' %>"
                                    class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                    <%= language==='tw' ? '下一頁' : 'Next' %>
                                </a>
                                <% } %>
        </nav>
    </div>
    <% } %>