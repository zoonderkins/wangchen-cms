<!DOCTYPE html>
<html lang="<%= currentLanguage === 'tw' ? 'zh-TW' : 'en' %>">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= typeof title !=='undefined' ? title + ' - ' : '' %>Your Website Name
    </title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Include Quill.js 2.0.3 styles for rendering -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet">

    <!-- Include Quill.js for proper rendering -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.min.js"></script>
    <%- defineContent('head') %>
</head>

<body class="bg-white">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <div class="text-2xl font-bold">
                    <a href="/<%= currentLanguage %>">Your Website</a>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="/<%= currentLanguage %>" class="text-gray-700 hover:text-gray-900">
                        <%= currentLanguage==='en' ? 'Home' : '首頁' %>
                    </a>

                    <% if (navigationPages && navigationPages.length> 0) { %>
                        <% navigationPages.forEach(function(page) { %>
                            <a href="/<%= currentLanguage %>/page/<%= page.slug %>"
                                class="text-gray-700 hover:text-gray-900">
                                <%= getContent(page, 'title' ) %>
                            </a>
                            <% }); %>
                                <% } %>
                                    <a href="/<%= currentLanguage %>/about" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'About Us' : '關於我們' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/news" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'News' : '最新消息' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/promotions"
                                        class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Promotions' : '推動方案' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/faq" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'FAQ' : '常見問題' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/downloads"
                                        class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Downloads' : '下載' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/platforms"
                                        class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Manufacturing Platforms' : '製造平台' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/contact" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Contact' : '聯絡我們' %>
                                    </a>

                                    <!-- Language Switcher -->
                                    <%- include('../partials/language-switcher') %>
                </div>
                <!-- Mobile Menu Button -->
                <button class="md:hidden">
                    <svg class="h-6 w-6 fill-current text-gray-700" viewBox="0 0 24 24">
                        <path
                            d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z" />
                    </svg>
                </button>
            </div>
            <!-- Mobile Menu -->
            <div class="md:hidden hidden">
                <div class="flex flex-col mt-4 space-y-4">
                    <a href="/<%= currentLanguage %>" class="text-gray-700 hover:text-gray-900">
                        <%= currentLanguage==='en' ? 'Home' : '首頁' %>
                    </a>

                    <% if (navigationPages && navigationPages.length> 0) { %>
                        <% navigationPages.forEach(function(page) { %>
                            <a href="/<%= currentLanguage %>/page/<%= page.slug %>"
                                class="text-gray-700 hover:text-gray-900">
                                <%= getContent(page, 'title' ) %>
                            </a>
                            <% }); %>
                                <% } %>
                                    <a href="/<%= currentLanguage %>/about" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'About Us' : '關於我們' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/news" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'News' : '最新消息' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/promotions"
                                        class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Promotions' : '推動方案' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/faq" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'FAQ' : '常見問題' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/downloads"
                                        class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Downloads' : '下載' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/platforms"
                                        class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Manufacturing Platforms' : '製造平台' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/contact" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Contact' : '聯絡我們' %>
                                    </a>
                                    <a href="/<%= currentLanguage %>/links" class="text-gray-700 hover:text-gray-900">
                                        <%= currentLanguage==='en' ? 'Related Links' : '相關連結' %>
                                    </a>

                                    <!-- Language Switcher -->
                                    <%- include('../partials/language-switcher') %>
                </div>
            </div>
        </nav>
    </header>

    <% if (typeof pageImage !=='undefined' && pageImage) { %>
        <div class="page-banner w-full">
            <h1>test page image</h1>
            <img src="<%= pageImage.path %>" alt="Page Banner" class="w-full object-cover" style="max-height: 300px;">
        </div>
        <% } %>

            <!-- Main Content -->
            <main class="container mx-auto px-6 py-8">
                <!-- Flash Messages -->
                <% if (typeof success_msg !=='undefined' && success_msg.length> 0) { %>
                    <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4" role="alert">
                        <%= success_msg %>
                    </div>
                    <% } %>
                        <% if (typeof error_msg !=='undefined' && error_msg.length> 0) { %>
                            <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4" role="alert">
                                <%= error_msg %>
                            </div>
                            <% } %>

                                <!-- Page Content -->
                                <%- body %>
            </main>

            <!-- Footer -->
            <footer class="bg-gray-100 px-8 py-6 rounded-t-3xl">
                <div class="relative">
                    <!-- Accessibility Tag -->
                    <div class="absolute top-0 right-0 bg-gray-300 px-1 py-1 sm:px-3 sm:py-2">
                        <span class="text-black">無障礙網頁檢測中</span>
                    </div>

                    <!-- Organization Info -->
                    <div class="mb-2">
                        <img src="../images/logo/logo-STSVPOwide.png" alt="大南方新矽谷推動辦公室頁尾標誌" class="h-10 mb-3">
                        <p class="mb-1">
                            <%= currentLanguage==='en' ? 'Greater Southern Silicon Valley Promotion Office (STSVPO)'
                                : '「大南方新矽谷」推動辦公室 (STSVPO)' %>
                        </p>
                        <p class="mb-1">
                            <%= currentLanguage==='en'
                                ? 'Address: Room 5-03-1, 5th Floor, No. 6, Section 1, Guiren 13th Road, Guiren District, Tainan City, 711, Taiwan'
                                : '地址：711臺南市歸仁區歸仁十三路一段6號5樓D503-1室' %>
                        </p>
                        <p class="mb-1">
                            <%= currentLanguage==='en' ? 'Phone: (06) 303-2260 ext. 523' : '電話：(06) 303-2260 分機523' %>
                        </p>
                        <p class="mb-1">
                            <%= currentLanguage==='en' ? 'Service Email: service@stsvpo.org.tw'
                                : '服務信箱：service@stsvpo.org.tw' %>
                        </p>
                        <p class="mb-1">
                            <%= currentLanguage==='en' ? `Today's Views: ${visitCount || 0}` : `瀏覽人次： ${visitCount ||
                                0}` %>
                        </p>
                        <p class="mb-0">
                            <a href="security.html">
                                <%= currentLanguage==='en' ? 'Website Security Policy' : '網站安全政策' %>
                            </a>　|　
                            <a href="privacy.html">
                                <%= currentLanguage==='en' ? 'Privacy Policy' : '隱私權政策' %>
                            </a>　|　
                            <a href="opneinfo.html">
                                <%= currentLanguage==='en' ? 'Government Website Open Data Declaration' : '政府網站資料開放宣告'
                                    %>
                            </a>
                        </p>
                    </div>

                    <!-- Browser Support Info -->
                    <p class="text-right mb-0">
                        <%= currentLanguage==='en'
                            ? 'Recommended Browsers: Chrome 120 / Edge 120 / Firefox 120 / Safari 17 or later, with an optimal resolution of 1280 × 800 or higher.'
                            : '建議使用 Chrome 120 / Edge 120 / Firefox 120 / Safari 17 以上版本瀏覽，最佳瀏覽解析度為 1,280 × 800 以上' %>

                    </p>

                    <!-- Divider -->
                    <div class="border-t border-gray-300 my-4"></div>

                    <!-- Copyright Info -->
                    <div class="flex flex-col sm:flex-row justify-between">
                        <span> 2025 All Rights Reserved.</span>
                        <span>
                            <%= currentLanguage==='en'
                                ? 'This platform is maintained and managed by the Greater Southern Silicon Valley Promotion Office.'
                                : '本平台由「大南方新矽谷」推動辦公室委辦維護管理 版權所有' %>
                        </span>
                    </div>
                </div>
            </footer>


            <!-- JavaScript -->
            <script>
                // Mobile menu toggle
                const menuButton = document.querySelector('button.md\\:hidden');
                const mobileMenu = document.querySelector('div.md\\:hidden');

                menuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            </script>
            <%- defineContent('script') %>
</body>

</html>